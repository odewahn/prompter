{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Command Reference","text":""},{"location":"#core-features","title":"Core Features","text":""},{"location":"#use","title":"use","text":"<p>Specifiy the name of the SQLite database you want to use to store your data. This database will be created in the current working directory. If you change the working directory, prompter will create a new database in the new directory using the same name.</p> <ul> <li>Arguments:</li> <li><code>db_name</code> (required): Database name to use.</li> <li>Example: <pre><code>use summary.db\n</code></pre></li> </ul>"},{"location":"#load","title":"load","text":"<p>Load a file or files as a new group.</p> <ul> <li>Arguments:</li> <li><code>files</code> (required): List of files or URLs to load.</li> <li><code>--tag</code> (optional): Tag to use for the group.</li> <li>Example:</li> </ul> <pre><code>load *.txt --tag=text_files\n\nload book.epub\n\nload http://example.com\n</code></pre>"},{"location":"#transform","title":"transform","text":"<p>Transform a block using specified transformations. If you chain multiple transformations together, they are applied in the order they are specified.</p> <ul> <li>Arguments:</li> <li><code>transformation</code> (required): Transformations to apply. Available transformations are:<ul> <li><code>token-split</code>: Breaks text into overlapping chunks of 1000 tokens overlapping by 10%.</li> <li><code>clean-epub</code>: Simplifies the HTML of an EPUB.</li> <li><code>html-h1-split</code>: Breaks HTML into blocks based on H1 tags.</li> <li><code>html-h2-split</code>: Breaks HTML into blocks based on H1 and H2 tags.</li> <li><code>html-to-md</code>: Converts HTML to Markdown.</li> <li><code>html-to-txt</code>: Converts HTML to plain text.</li> <li><code>new-line-split</code>: Splits text into blocks based on new lines.</li> <li><code>sentence-split</code>: Splits text into blocks based on sentences.</li> <li><code>strip-attributes</code>: Remove all attributes from HTML tags.</li> <li><code>extracct-headers</code>: Extract onle HTML headers (4 levels) deep</li> </ul> </li> <li><code>--tag</code> (optional): Tag to use for the group.</li> <li><code>--where</code> (optional): Where clause for the blocks.</li> <li><code>--n</code> (optional): Number of tokens to split (default: 1000).</li> <li><code>--overlap</code> (optional): Overlap percentage (as an integer) for token-split (default: 10).</li> <li>Examples:</li> </ul> <pre><code>transform clean-epub --tag=cleaned --where=\"block_tag like 'ch%'\"\n\ntransform html-to-md token-split --n=1500\n</code></pre>"},{"location":"#complete","title":"complete","text":"<p>Complete a block using OpenAI.</p> <ul> <li>Arguments:</li> <li><code>task</code> (required): Filename or URL of the task template.</li> <li><code>--persona</code> (optional): Filename or URL of the persona template.</li> <li><code>--metadata</code> (optional): Metadata file (default: DEFAULT_METADATA_FN).</li> <li><code>--tag</code> (optional): Tag to use for the group.</li> <li><code>--model</code> (optional): Model to use (default: OPENAI_DEFAULT_MODEL).</li> <li><code>--temperature</code> (optional): Temperature to use (default: OPENAI_DEFAULT_TEMPERATURE).</li> <li><code>--where</code> (optional): Where clause for the blocks.</li> <li>Example: <pre><code>complete summarize.jinja --tag=summary --model=gpt-4o --temperature=0.3\n</code></pre></li> </ul>"},{"location":"#run","title":"run","text":"<p>Run a file containing of prompter commands. For example, the following file of commands would allow you to summarize an epub file:</p> <pre><code>set FN test.epub\nload {{FN}}\nselect \"block_tag like 'chapter%'\"\ntransform clean-epub html-to-md token-split --n=1500\ncomplete summarize-block.task\nsquash\ncomplete cleanup-summary.task\nretag summary-{{block_tag}}.md\nwrite\n</code></pre> <ul> <li>Arguments:</li> <li><code>fn</code> (required): File or URL to run.</li> <li>Example: <pre><code>run script.prompter\n</code></pre></li> </ul>"},{"location":"#data-management","title":"Data Management","text":""},{"location":"#blocks","title":"blocks","text":"<p>List all blocks.</p> <ul> <li>Arguments:</li> <li><code>--where</code> (optional): Where clause for the blocks.</li> <li>Example: <pre><code>blocks --where=\"block_tag like 'ch%'\"\n</code></pre></li> </ul>"},{"location":"#groups","title":"groups","text":"<p>List all groups.</p> <ul> <li>Arguments:</li> <li><code>--where</code> (optional): Where clause for the group.</li> <li>Example: <pre><code>groups --where=\"group_tag like 'my_group%'\"\n</code></pre></li> </ul>"},{"location":"#checkout","title":"checkout","text":"<p>Checkout a group.</p> <ul> <li>Arguments:</li> <li><code>tag</code> (required): Tag to checkout. This can be:<ul> <li>tag: the name of the group to checkout</li> <li><code>latest</code>: checkout the latest group</li> <li><code>first</code>: checkout the first group</li> <li><code>next</code>: checkout the next group</li> <li><code>previous</code>: checkout the previous group</li> </ul> </li> <li>Example: <pre><code>checkout my_group\n</code></pre></li> </ul>"},{"location":"#squash","title":"squash","text":"<p>Squash the current group into a new group by tag. Use this to combine blocks into a single block.</p> <ul> <li>Arguments:</li> <li><code>--delimiter</code> (optional): Delimiter to use (default: \"\\n\").</li> <li><code>--tag</code> (optional): Tag for the new group.</li> <li>Example: <pre><code>squash --delimiter=\"\\n\\n\" --tag=squashed_group\n</code></pre></li> </ul>"},{"location":"#generating-output","title":"Generating Output","text":""},{"location":"#write","title":"write","text":"<p>Write the current group to a file.</p> <ul> <li>Arguments:</li> <li><code>--fn</code> (optional): Filename pattern (jinja2) to write to (default: \"{{block_tag}}\").</li> <li><code>--where</code> (optional): Where clause for the blocks.</li> <li>Examples:   Write each block to a file named after its tag:   <pre><code>write --fn=\"output/{{block_tag}}.txt\"\n</code></pre></li> </ul>"},{"location":"#speak","title":"speak","text":"<p>Convert the current block to audio files.</p> <ul> <li>Arguments:</li> <li><code>--fn</code> (optional): Filename pattern (jinja2) to write to (default: \"{{block_tag.split('.') | first}}-{{ '%04d' % position}}.mp3\").</li> <li><code>--where</code> (optional): Where clause for the blocks.</li> <li><code>--voice</code> (optional): Voice to use (default: \"alloy\").</li> <li><code>--preview</code> (optional): Preview the filenames.</li> <li>Example:</li> </ul> <pre><code>speak --fn=\"audio/{{block_tag}}.mp3\" --voice=alloy\n</code></pre>"},{"location":"#environment-management","title":"Environment Management","text":""},{"location":"#set","title":"set","text":"<p>Set an environment variable.</p> <ul> <li>Arguments:</li> <li><code>key</code> (required): Key to set.</li> <li><code>value</code> (required): Value to set.</li> <li>Example: <pre><code>set SOURCE https://example.com\n</code></pre></li> </ul>"},{"location":"#unset","title":"unset","text":"<p>Remove an environment variable.</p> <ul> <li>Arguments:</li> <li><code>key</code> (required): Key to remove.</li> <li>Example: <pre><code>unset SOURCE\n</code></pre></li> </ul>"},{"location":"#usage-notes","title":"Usage Notes","text":"<p>Environment variables allow you to create symbols you can use in instructions, rather than literal strings. For example, you might use environment variables to set a source URL for the location of your task and persona prompts. When the script is run, the environment variables are replaced with their values. For example:</p> <pre><code>set SOURCE https://example.com\n</code></pre> <p>And then you can do something like this:</p> <pre><code>complete {{SOURCE}}/summarize.md --persona={{SOURCE}}/persona.md\n</code></pre> <p>You can pass environment variable into your scripts when they starts by creating a (bash) variable that begins with <code>PROMPTER\\_</code>. (Note that the \"PROMPTER_\" prefix will be stripped off.) For example, an environment variable created with <code>export PROMPTER_ENV=dev</code> automantically becomes available in the prompter environment as <code>ENV=dev</code>.</p>"},{"location":"#other-commands","title":"Other Commands","text":""},{"location":"#version","title":"version","text":"<p>Print the version of the application.</p> <ul> <li>Example: <pre><code>version\n</code></pre></li> </ul>"},{"location":"#exit","title":"exit","text":"<p>Exit the REPL (Read-Eval-Print Loop).</p> <ul> <li>Example:</li> </ul> <pre><code>exit\n</code></pre>"}]}